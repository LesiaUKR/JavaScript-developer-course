// *********  Fetch  ********* \\

// https://www.postman.com/downloads/
// https://rickandmortyapi.com/documentation

// Ð´Ð¾ ES6 Ð¼Ð¾Ð´ÑƒÐ»Ñ–Ð² Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ð»Ð¸ÑÑŒ XMLHttpRequest
// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest_API/Using_XMLHttpRequest
// ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚ fetch Ð¿Ð¾Ð±ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ð½Ð° Ð¿Ñ€Ð¾Ð¼Ñ–ÑÐ°Ñ…, Ð¿Ñ€Ð¾Ð¼Ñ–ÑÐ¸ Ñ†Ðµ Ð¼Ñ–ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÐ¸ Ñ– Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÑŒ Ñ„ÐµÑ‚Ñ‡ Ð¿Ñ–Ð´Ðµ Ð´Ð¾ eventLoop Ð² Ñ€Ð¾Ð·Ð´Ñ–Ð» Ð´Ð¾ Ð¼Ñ–ÐºÑ€Ð¾Ñ‚Ð°ÑÐ¾Ðº

//Ð½Ð° ÑÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–ÑˆÐ½Ñ–Ð¹ Ð´ÐµÐ½ÑŒ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑŽÑ‚ÑŒÑÑ fetch Ð·Ð°Ð¿Ð¸Ñ‚Ð¸
// fetch Ð¿Ð¾Ð²ÐµÑ€Ñ‚Ð°Ñ” Ð¿Ñ€Ð¾Ð¼Ñ–Ñ
// Ñ‰Ð¾Ð± Ð¹Ð¾Ð³Ð¾ Ð¾Ð¿Ñ€Ð°Ñ†ÑŽÐ²Ð°Ñ‚Ð¸ Ñ– Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð² ÐºÐ¾Ð´Ñ– Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ ÑÐº Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾ Ð² devTools-Network-ÐºÐ»Ñ–ÐºÐ½ÑƒÑ‚Ð¸ Ð¿Ð¾ Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ - Ð²ÐºÐ»Ð°Ð´ÐºÐ° Preview
// Ð´Ð°Ð½Ð° Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ Ð²Ð¶Ðµ Ð¿ÐµÑ€ÐµÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð° Ð· Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñƒ json
// Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð»Ð°Ð½Ñ†ÑŽÐ¶Ð¾Ðº then/catch/finally
// Ð² Ð¿ÐµÑ€ÑˆÐ¾Ð¼Ñƒ then Ð¼Ð¸ Ð½Ðµ Ð¿Ð¾Ð±Ð°Ñ‡Ð¸Ð¼Ð¾ Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–ÑŽ Ñ‚Ð°Ðº ÑÐº Ð¼Ð¸ Ð±Ð°Ñ‡Ð¸Ð¼Ð¾ Ð² Preview
// Ð² Ð¿ÐµÑ€ÑˆÐ¾Ð¼Ñƒ then Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð¾Ð±'Ñ”ÐºÑ‚  Response, Ð² ÑÐºÐ¾Ð¼Ñƒ Ð²Ð¸Ð´Ð½Ð¾ ÑÐº Ð²Ñ–Ð´Ð¿Ñ€Ð°Ñ†ÑŽÐ²Ð°Ð² Ð·Ð°Ð¿Ð¸Ñ‚:
// ok: true - ÑÑ‚Ð°Ñ‚ÑƒÑ Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ true\false
// redirected: false - Ñ‡Ð¸ Ð²Ñ–Ð´Ð±ÑƒÐ²Ð°Ð²ÑÑ Ñ€ÐµÐ´Ñ–Ñ€ÐµÐºÑ‚ Ð½Ð° ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ– backend, Ñ‚Ð¾Ð±Ñ‚Ð¾ Ñ‡Ð¸ Ð¿ÐµÑ€ÐµÐ°Ð´Ñ€ÐµÑÑƒÐ²Ð°Ð»Ð¸ Ð½Ð°Ñ Ð· Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐµÐ½Ð´Ð¿Ð¾Ñ–Ð½Ñ‚Ð° Ð½Ð° Ñ–Ð½ÑˆÐ¸Ð¹
// statusText: "" - Ð¿ÑƒÐ±Ð»Ñ–Ñ‡Ð½Ñ– API Ð² Ð±Ñ–Ð»ÑŒÑˆÐ¾ÑÑ‚Ñ– Ð½Ðµ Ð²Ñ–Ð´Ð´Ð°ÑŽÑ‚ÑŒ Ñ‚Ð°ÐºÐµ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ
// type:'cors' - Ñ‡Ð¸ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ cors policy
// Ñ‚Ð°Ðº ÑÐº ÑÐ¿Ñ–Ð»ÐºÑƒÐ²Ð°Ð½Ð½Ñ Ð²Ñ–Ð´Ð±ÑƒÐ²Ð°Ñ”Ñ‚ÑŒÑÑ Ð·Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ Ð°Ñ€Ñ…Ñ–Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð¸ REST, ÑÐºÐ° Ð¼Ð°Ñ” Ð½Ð° Ð¼ÐµÑ‚Ñ– Ð¾Ð±Ð¼Ñ–Ð½ Ð´Ð°Ð½Ð¸Ð¼Ð¸ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ– json,
// Ñ‚Ð¾ Ñ‰Ð¾Ð± Ñ€Ð¾Ð·Ð¿Ð°Ñ€ÑÐ¸Ñ‚Ð¸ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ Ñ– Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ñƒ Ð²Ð¸Ð³Ð»ÑÐ´Ñ– ÑÐº Ð² Preview, Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ñ‚Ð¸ parse Ð¼ÐµÑ‚Ð¾Ð´,
// Ð°Ð»Ðµ Ð½Ðµ ÐºÐ»Ð°ÑÐ¸Ñ‡Ð½Ð¸Ð¹ JSON.parse, Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑŽÑ‡Ð¸ Ð¼ÐµÑ‚Ð¾Ð´ json Ð½Ð° Ð¾Ð±'Ñ”ÐºÑ‚Ñ– Response
// Ð¿Ñ€Ð¾Ð¿Ð¸ÑÑƒÑ”Ð¼Ð¾ Ð¹Ð¾Ð³Ð¾ Ð² Ð¿ÐµÑ€ÑˆÐ¾Ð¼Ñƒ then .then(resp=> resp.json())
// Ð´Ð°Ð½Ð¸Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ json Ð²Ñ–Ð´Ð¿Ñ€Ð°Ñ†ÑŒÐ¾Ð²ÑƒÑ” Ð»Ð¸ÑˆÐµ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·
// Ñ‚Ð¾Ð¼Ñƒ ÐºÐ¾Ð´ Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ð¾Ð³Ð¾ Ð²Ð¸Ð³Ð»ÑÐ´Ñƒ Ð¿Ð¾Ð²ÐµÑ€Ð½Ðµ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÑƒ Ð½Ð° Ñ€ÑÐ´ÐºÑƒ return resp.json():
// .then(resp => {console.log(resp.json()); return resp.json()})
// Ð¼ÐµÑ‚Ð¾Ð´ resp.json() - Ð¿Ð¾Ð²ÐµÑ€Ð½Ðµ Ð½Ð°Ð¼ Ð¿Ñ€Ð¾Ð¼Ñ–Ñ

// fetch('https://rickandmortyapi.com/api/charact')
//   .then(resp => {
//     console.log(resp);
//     if (!resp.ok) {
//       throw new Error('custom error log ðŸ˜’');
//     }
//     return resp.json();
//   })
//   .then(data => console.log(data))
//   .catch(err => console.log(err));

// ********* ÐžÐ±Ñ€Ð¾Ð±ÐºÐ° Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº Ñ‚Ð° Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ñ– ********* \\

// Ñ–Ð½Ð¾Ð´Ñ– Ð¿ÐµÑ€ÐµÐ´ Ñ‚Ð¸Ð¼ ÑÐº Ð·Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ "Ð¿Ñ–Ð´ÐºÐ°Ð·Ð°Ñ‚Ð¸" Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ñƒ ÑÐº Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ñ‚Ð¸ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÑƒ
// Ñ†Ðµ ÑÐºÐ¾Ñ€Ñ–ÑˆÐµ Ð½ÐµÐ´Ð¾Ð¿Ñ€Ð°Ñ†ÑŽÐ²Ð°Ð½Ð½Ñ Ð±ÐµÐºÐµÐ½Ð´Ñƒ, Ð±Ð¾ Ñ–Ð½Ð¾Ð´Ñ– Ñ‚Ð°Ð¼ Ð½ÐµÐ²Ñ–Ñ€Ð½Ð¾ Ñ€Ð¾Ð±Ð»ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ—
// Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð¿Ð¾Ð³Ð°Ð½Ð¾ Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð· Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°Ð¼Ð¸, ÑÐºÑ– Ð¿Ð¾Ð²'ÑÐ·Ð°Ð½Ñ– Ð· 400Ð¼, 401(Ð½Ðµ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¹), 403, 404Ð¼(Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾) ÑÑ‚Ð°Ñ‚ÑƒÑÐ°Ð¼Ð¸
// Ñ„Ð°ÐºÑ‚Ð¸Ñ‡Ð½Ð¾ Ñ†Ð½
// ÐºÐ¾Ð»Ð¸ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ñ–Ð· Ñ‚Ð°ÐºÐ¸Ñ… ÑÑ‚Ð°Ñ‚ÑƒÑÑ–Ð², Ð¼Ð¾Ð¶Ð½Ð° Ð¿Ñ€Ð¸Ð¼ÑƒÑÐ¾Ð²Ð¾ Ð¿ÐµÑ€ÐµÐ²ÐµÑÑ‚Ð¸ Ð¿Ñ€Ð¾Ð¼Ñ–Ñ Ð² ÑÑ‚Ð°Ñ‚ÑƒÑ reject Ð·Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ
// Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ ok:false\true Ñ–Ð· Ð¾Ð±'Ñ”ÐºÑ‚Ð° Response
// Ð´Ð»Ñ Ñ†ÑŒÐ¾Ð³Ð¾ Ð¿ÐµÑ€ÐµÐ´ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼ Ð¿Ð°Ñ€ÑÑƒ Ð²ÐºÐ°Ð·ÑƒÑ”Ð¼Ð¾ ÑƒÐ¼Ð¾Ð²Ñƒ if(!resp.ok){throw new Error}
// ÑÐºÐ° Ð²Ñ–Ð´Ð±Ð¸Ñ€Ð°Ñ” falsy Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ Ñ– Ð·Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸ throw Ð¿ÐµÑ€ÐµÑ€Ð¸Ð²Ð°Ñ”Ð¼Ð¾ Ñ€Ð¾Ð±Ð¾Ñ‚Ñƒ then Ñ– Ð³ÐµÐ½ÐµÑ€ÑƒÑ”Ð¼Ð¾ ÑÐ°Ð¼Ð¾ÑÑ‚Ñ–Ð¹Ð½Ð¾ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÑƒ new Error
// throw Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ½Ð°Ð¿Ñ€Ð°Ð²Ð»ÑÑ” Ð² Ð±Ð»Ð¾Ðº catch, Ð´Ðµ ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸Ð¼Ð¾ error
// Ð² new Error, ÑÐºÑ‰Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¾ Ð½Ð° Ð±ÐµÐºÑƒ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ”Ð¼Ð¾ Ð¾Ð¿Ð¸Ñ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸ Ñ‡ÐµÑ€ÐµÐ· resp.statusText
// Ð°Ð±Ð¾ Ð¿Ð¸ÑˆÐµÐ¼Ð¾ ÑÐ°Ð¼Ñ– Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð· Ð¾Ð¿Ð¸ÑÐ¾Ð¼ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸

// ********* CORS ********* \\
// Ð² Headers, ÑÐ»ÑƒÐ¶Ð±Ð¾Ð²Ð° Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ, ÑÐºÑƒ Ð¼Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ”Ð¼Ð¾ Ñ–Ð· Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð° Ð½Ð° Ð±ÐµÐºÐµÐ½Ð´ (Ð¼Ð¾Ð¶ÐµÐ¼Ð¾ Ð¿Ð¾Ð´Ð¸Ð²Ð¸Ñ‚Ð¸ÑÑŒ Ð¿Ð¾Ñ€ÑƒÑ‡ Ð· Preview)
// Ñ” Ð²Ð»Ð°ÑÑ‚Ð¸Ð²Ñ–ÑÑ‚ÑŒ Origin, ÑÐºÑƒ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð·Ð°Ð¿Ð¾Ð²Ð½ÑŽÑ” ÑÐ°Ð¼, Ð±ÐµÑ€Ðµ Ñ—Ñ— Ð· Ð½Ð°ÑˆÐ¾Ð³Ð¾ url
// fetch('https://common-api.rozetka.com.ua/v2/fat-menu/full?front-type=xl&country=UA&lang=ua&r=0.7297302207424572')
// Ð½Ð° ÑÐ°Ð¹Ñ‚Ñ– Ñ€Ð¾Ð·ÐµÑ‚ÐºÐ¸ Ñ†Ñ Ð²Ð»Ð°ÑÑ‚Ð¸Ð²Ñ–ÑÑ‚ÑŒ Origin Ð¼Ñ–ÑÑ‚Ð¸Ñ‚ÑŒ https://rozetka.com.ua
// Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ñ‚Ð°ÐºÐ¸Ð¼ Ñ‡Ð¸Ð½Ð¾Ð¼ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑ” Ñ‡Ð¸ Ñ” Ð² ÑƒÐ¼Ð¾Ð²Ð½Ð¾Ð¼Ñƒ Ð±Ñ–Ð»Ð¾Ð¼Ñƒ ÑÐ¿Ð¸ÑÐºÑƒ Ð±ÐµÐºÐµÐ½Ð´Ñƒ url Ð· ÑÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð±Ð¸Ñ‚ÑŒÑÑ Ð·Ð°Ð¿Ð¸Ñ‚ Ñ–
// Ñ‡Ð¸ Ð¼Ð¾Ð¶Ð½Ð° Ð²Ñ–Ð´Ð´Ð°Ð²Ð°Ñ‚Ð¸ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ(Ð´Ð°Ð½Ñ–) Ñ‚Ð¾Ð¼Ñƒ Ñ€ÐµÑÑƒÑ€ÑÑƒ, Ñ‚Ð°ÐºÐ¸Ð¼ Ñ‡Ð¸Ð½Ð¾Ð¼ Ð²Ñ–Ð´Ð±ÑƒÐ²Ð°Ñ”Ñ‚ÑŒÑÑ
// Ð¿Ñ€Ð¸ Ñ†ÑŒÐ¾Ð¼Ñƒ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ Ð² Postman https://common-api.rozetka.com.ua/v2/fat-menu/full?front-type=xl&country=UA&lang=ua&r=0.7297302207424572'
// Ð²Ñ–Ð´Ð´Ð°ÑÑ‚ÑŒ Ð´Ð°Ð½Ñ– Ð· Ð±ÐµÐºÐµÐ½Ð´Ñƒ, Ð±Ð¾ Postman Ñ†Ðµ Ð½Ðµ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ñ– Ð² Ð½ÑŒÐ¾Ð¼Ñƒ Ð½ÐµÐ¼Ð°Ñ” Ñ‚Ð¾Ñ— Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ñ— Ð¿Ð¾Ð²ÐµÐ´Ñ–Ð½ÐºÐ¸ Ð´Ð¾Ð´Ð°Ð²Ð°Ñ‚Ð¸ Ð²Ð»Ð°ÑÑ‚Ð¸Ð²Ñ–ÑÑ‚ÑŒ Origin
// Ñ‚Ð¾Ð¼Ñƒ Ð±ÐµÐºÐµÐ½Ð´ Ð½Ðµ Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ñ”, Ñ‰Ð¾ Ð¼Ð¾Ð¶Ð½Ð° Ñ‚Ð¾Ð¼Ñƒ Ñ€ÐµÑÑƒÑ€ÑÑƒ ÑÐº Postman Ð²Ñ–Ð´Ð´Ð°Ñ‚Ð¸ Ð´Ð°Ð½Ñ–

// *************** ÐŸÐ ÐÐšÐ¢Ð˜ÐšÐ *************** \\

// ÐŸÐ¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ ÑÑ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð» Ð´Ð»Ñ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð·Ñƒ Ð¿Ð¾Ð³Ð¾Ð´Ð¸ Ð² Ð¼Ñ–ÑÑ‚Ñ–.
// Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð¹ Ð¿ÑƒÐ±Ð»Ñ–Ñ‡Ð½Ðµ API https://www.weatherapi.com/docs/
// Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹ ÐµÐ½Ð´Ð¿Ð¾Ñ–Ð½Ñ‚ Forecast Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‰Ð¾Ð± Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð· Ð¿Ð¾Ð³Ð¾Ð´Ð¸ Ð½Ð° Ð´ÐµÐºÑ–Ð»ÑŒÐºÐ° Ð´Ð½Ñ–Ð².

// Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸ Ñ„Ð¾Ñ€Ð¼Ñƒ Ð² ÑÐºÑƒ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡:
// 1 Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð½Ð°Ð·Ð²Ñƒ Ð¼Ñ–ÑÑ‚Ð°.
// 2 Ð¾Ð±Ð¸Ñ€Ð°Ñ” Ð½Ð° ÑÐºÑƒ ÐºÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ Ð´Ð½Ñ–Ð² Ð²Ñ–Ð½ Ñ…Ð¾Ñ‡Ðµ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð· Ð¿Ð¾Ð³Ð¾Ð´Ð¸ (3, 5 Ñ‚Ð° 7 Ð´Ð½Ñ–Ð²).
// (Ð†Ð½Ð¾Ð´Ñ– Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð½Ðµ Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð² Ñ‚Ð°ÐºÐ¾Ð¼Ñƒ Ð²Ð¸Ð¿Ð°Ð´ÐºÑƒ Ð¼Ð¾Ð¶Ð½Ð° Ð·Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ð¿Ð¾ÑˆÑƒÐº Ð½Ð° 1, 2 Ñ‚Ð° 3 Ð´Ð½Ñ–)
// ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´ Ñ„Ð¾Ñ€Ð¼Ð¸ https://prnt.sc/kFmLOj6gBdv-

// ÐŸÑ–ÑÐ»Ñ ÑÐ°Ð±Ð¼Ñ–Ñ‚Ñƒ Ñ„Ð¾Ñ€Ð¼Ð¸ Ð²Ñ–Ð´Ð¼Ð°Ð»ÑŽÐ¹ ÐºÐ°Ñ€Ñ‚ÐºÐ¸ Ð· Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ”ÑŽ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾ÑŽ Ð· Ð±ÐµÐºÐµÐ½Ð´Ñƒ.
// ÐšÐ°Ñ€Ñ‚ÐºÐ° Ð¼Ð°Ñ” Ð¼Ñ–ÑÑ‚Ð¸Ñ‚Ð¸ Ð²Ñ–Ð´Ð¾Ð¼Ð¾ÑÑ‚Ñ– Ð¿Ñ€Ð¾:
// 1 Ð—Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ Ð· Ð¿Ð¾Ð³Ð¾Ð´Ð¾ÑŽ (icon)
// 2 Ð¢ÐµÐºÑÑ‚ Ð· Ð¿Ð¾Ð³Ð¾Ð´Ð¾ÑŽ (text)
// 3 Ð”Ð°Ñ‚Ñƒ (date)
// 4 Ð¡ÐµÑ€ÐµÐ´Ð½ÑŽ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ñƒ Ð² Ð¦ÐµÐ»ÑŒÑÑ–Ñ (avgtemp_c)
// ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´ ÐºÐ°Ñ€Ñ‚ÐºÐ¸ https://prnt.sc/h_p-A6Hty-i-

function serviceWeather(city = '', days = '0') {
  const BASE_URL = 'http://api.weatherapi.com/v1';
  const END_POINT = '/forecast.json';
  const API_KEY = '6410346f89264d6e919165208231505';

  // Ð´Ð¾Ð²Ð¾Ð»Ñ– Ð½ÐµÐ·Ñ€ÑƒÑ‡Ð½Ð¸Ð¹ ÑÐ¿Ð¾ÑÑ–Ð± Ð±ÑƒÐ´ÑƒÐ²Ð°Ñ‚Ð¸ url
  // fetch(`${BASE_URL}${END_POINT}?key=${API_KEY}$q=Paris&days=2&lang=uk`);

  // ÐºÑ€Ð°Ñ‰Ðµ ÑÑ‚Ð¾Ð²Ñ€Ð¸Ñ‚Ð¸ Ð½Ð¾Ð²Ð¸Ð¹ ÐµÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€ ÐºÐ»Ð°ÑÑƒ
  const params = new URLSearchParams({
    key: API_KEY,
    q: city,
    days: days,
    lang: 'uk',
  });

  // ÑÐºÑ‰Ð¾ Ð·Ð°ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸Ñ‚Ð¸ Ð¾Ð±'Ñ”ÐºÑ‚ params, Ñ‚Ð¾ Ð½Ñ–Ñ‡Ð¾Ð³Ð¾ ÐºÐ¾Ñ€Ð¸ÑÐ½Ð¾Ð³Ð¾ Ð½Ðµ Ð¿Ð¾Ð±Ð°Ñ‡Ð¸Ð¼Ð¾, Ð¾ÐºÑ€Ñ–Ð¼ ÐºÑ–Ð»ÑŒÐºÐ¾ÑÑ‚Ñ– Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ–Ð² size
  console.log(params);
  // Ñ‰Ð¾Ð± Ð¿Ñ€Ð¾ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽÐ²Ð°Ñ‚Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸, Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð½Ð° Ð¿Ñ€Ð¾Ñ‚Ð¾Ñ‚Ð¸Ð¿Ñ– Ð¾Ð±'Ñ”ÐºÑ‚Ñƒ params
  // Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ‚Ð¸ Ð¼ÐµÑ‚Ð¾Ð´ toString, ÑÐºÑ‰Ð¾ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð¿Ð¾Ð´Ð¸Ð²Ð¸Ñ‚Ð¸ÑÑŒ, Ñ‰Ð¾ Ñ‚Ð°Ð¼ Ð·Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ
  console.log(params.toString());

  // ÐºÐ¾Ð»Ð¸ Ñ€Ð¾Ð±Ð¸Ð¼Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ð·Ð°Ð³Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÐµÑ€Ð²Ñ–ÑÑƒ, Ñ‚Ð¾Ð±Ñ‚Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ð´Ð»Ñ Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ Ð½Ð° Ð±ÐµÐºÐµÐ½Ð´, Ð·Ð°Ð³Ð°Ð»ÑŒÐ½Ð¾Ð¿Ñ€Ð¸Ð¹Ð½ÑÑ‚Ð¾ Ð¿ÐµÑ€ÑˆÐ¸Ð¹ then
  // Ð¿Ñ€Ð¾Ð¿Ð¸ÑÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ñ€ÑÐ¼Ð¾ Ð² ÑÐµÑ€ÐµÐ´Ð¸Ð½Ñ– Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ, Ð°Ð»Ðµ Ð»Ð¸ÑˆÐµ Ñ”Ð´Ð¸Ð½Ð¸Ð¹ Ð¿ÐµÑ€ÑˆÐ¸Ð¹ then
  // Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, ÑˆÐ¾Ð± Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸, Ñ‰Ð¾ Ð¿Ð¾Ð²ÐµÑ€Ñ‚Ð°Ñ” Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ - Ð¿Ð¾Ð¼Ð¸Ð»ÐºÑƒ Ð°Ð±Ð¾ Ñ€Ð¾Ð·Ð¿Ð°Ñ€ÑÐµÐ½Ñ– Ð´Ð°Ð½Ñ–
  // Ð¿ÐµÑ€ÐµÐ´ fetch Ð¾Ð±Ð¾Ð²'ÑÐ·ÐºÐ¾Ð²Ð¾ ÑÑ‚Ð°Ð²Ð¸Ð¼Ð¾ return Ñ–Ð½Ð°ÐºÑˆÐµ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ”Ð¼Ð¾ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÑƒ fetch.js:133 Uncaught TypeError: Cannot read properties of undefined (reading 'then')

  return fetch(`${BASE_URL}${END_POINT}?${params}`).then(resp => {
    if (!resp.ok) {
      // Ð¿Ð¾Ð´Ð¸Ð²Ð¸Ð¼Ð¾ÑÑŒ Ñ‡Ð¸ Ð¿Ð¾Ð²ÐµÑ€Ñ‚Ð°Ñ”Ñ‚ÑŒÑÑ statusText Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸ Ð· Ð±ÐµÐºÐµÐ½Ð´Ñƒ
      console.log(resp);
      throw new Error(resp.statusText);
    }
    // Ñ‚ÑƒÑ‚ Ð¿Ð¾Ð²ÐµÑ€Ñ‚Ð°Ñ”Ñ‚ÑŒÑÑ Ð¿Ñ€Ð¾Ð¼Ñ–Ñ
    return resp.json();
  });
}
// Ð½Ð° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ– Ð²Ð¸ÐºÐ»Ð¸ÐºÑƒ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ð¼Ð¾ then Ð´Ð»Ñ Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ¸ Ñ€Ð¾Ð·Ð¿Ð°Ñ€ÑÐµÐ½Ð¾Ñ— Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ñ–
// Ð°Ð±Ð¾ catch Ð´Ð»Ñ Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ¸ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸
// Ñ†ÑŽ Ñ„ÑƒÐ½ÐºÑ†Ñ–ÑŽ Ð²Ð¸ÐºÐ»Ð¸Ñ‡ÐµÐ¼Ð¾ Ð¿Ñ–Ð´ Ñ‡Ð°Ñ ÑÐ°Ð±Ð¼Ñ–Ñ‚Ñƒ Ñ„Ð¾Ñ€Ð¼Ð¸
// serviceWeather()
//   .then(data => console.log(data))
//   .catch(err => console.log(err));

const elements = {
  form: document.querySelector('.js-search-form'),
  list: document.querySelector('.js-list'),
};

console.log(elements);

elements.form.addEventListener('submit', handlerForecast);

function handlerForecast(evt) {
  //Ñƒ Ñ„Ð¾Ñ€Ð¼Ð¸ Ñ” Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð° Ð¿Ð¾Ð²ÐµÐ´Ñ–Ð½ÐºÐ° Ð¿Ñ–Ð´ Ñ‡Ð°Ñ ÑÐ°Ð±Ð¼Ñ–Ñ‚Ñƒ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²ÐºÐ° Ð´Ð°Ð½Ð¸Ñ… Ð½Ð° Ð±ÐµÐºÐµÐ½Ð´
  // Ð¾ÑÐºÑ–Ð»ÑŒÐºÐ¸ Ð½Ð° ÑÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–ÑˆÐ½Ñ–Ð¹ Ð´ÐµÐ½ÑŒ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–Ñ AJAX, ÑÐºÐ°
  // Ð¿Ñ–Ð´ ÐºÐ°Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð¼Ð°Ñ” Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ñ–ÑŽ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð´Ð°Ð½Ð¸Ñ… ÐšÐ»Ñ–Ñ”Ð½Ñ‚-Ð¡ÐµÑ€Ð²ÐµÑ€ Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÐ·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ ÑÑ‚Ð¾Ñ€Ñ–Ð½ÐºÐ¸
  // Ñ‰Ð¾Ð± Ð¿Ð¾Ð·Ð±ÑƒÑ‚Ð¸ÑÑ Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ñ— Ð¿Ð¾Ð²ÐµÐ´Ñ–Ð½ÐºÐ¸ Ñ„Ð¾Ñ€Ð¼Ð¸ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ñ”Ð¼Ð¾  evt.preventDefault();
  evt.preventDefault();

  // Ñ–Ð· Ð²Ð»Ð°ÑÑ‚Ð¸Ð²Ð¾ÑÑ‚Ñ– elements Ð¾Ð±'Ñ”ÐºÑ‚Ñƒ Ñ„Ð¾Ñ€Ð¼Ð¸ Ð·Ð° name Ñ–Ð· input Ñ‚Ð° select Ð´Ñ–ÑÑ‚Ð°Ñ”Ð¼Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ Ñ†Ð¸Ñ… Ð¿Ð¾Ð»Ñ–Ð²
  console.dir(evt.currentTarget.elements);
  const { city, days } = evt.currentTarget.elements;

  console.log(city.value);
  console.log(days.value);

  serviceWeather(city.value, days.value)
    .then(data => {
      elements.list.innerHTML = createMarkup(
        data.forecast.forecastday,
        data.location
      );
    })
    .catch(err => {
      elements.list.innerHTML =
        '<li class="weather-card"><img src="https://repository-images.githubusercontent.com/627560142/41fad3ef-09ac-4e99-a6b7-bacf592b3142" alt="weather" width="500"/></li>';
      console.log(err);
    });
}

// ÑÑ‚Ð²Ð¾Ñ€Ð¸Ð¼Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ñ–ÑŽ Ð´Ð»Ñ Ð²Ñ–Ð´Ð¼Ð°Ð»ÑŽÐ²Ð°Ð½Ð½Ñ Ð½Ð° ÑÑ‚Ð¾Ñ€Ñ–Ð½Ñ†Ñ– Ñ€Ð¾Ð·Ð¿Ð°Ñ€ÑÐµÐ½Ð¸Ñ… Ð´Ð°Ð½Ð¸Ñ…
function createMarkup(arr, location) {
  // Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ð¼Ð¾ Ñ‡Ð¸ Ð¿Ñ€Ð¸Ð¹ÑˆÐ»Ð¸ Ð´Ð°Ð½Ñ– Ð² Ñ„ÑƒÐ½Ñ†Ñ–ÑŽ
  console.log(arr);
  console.log(location);
  return arr
    .map(
      ({
        date,
        day: {
          avgtemp_c,
          condition: { icon, text },
        },
      }) => `
  <li class="weather-card">
    <img src="${icon}" alt="${text}" class="weather-icon" />
    <h2 class="date">${location.name}</h2>
    <h3 class="date">${location.country}</h3>
    <h4 class="date">${date}</h4>
    <h4 class="weather-text">${text}</h4>
    <h4 class="temperature">${avgtemp_c} Â°C</h4>
</li>`
    )
    .join('');
}
