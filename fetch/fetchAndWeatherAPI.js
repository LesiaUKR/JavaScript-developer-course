// *********  Fetch  ********* \\

// https://www.postman.com/downloads/
// https://rickandmortyapi.com/documentation

// –¥–æ ES6 –º–æ–¥—É–ª—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏—Å—å XMLHttpRequest
// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest_API/Using_XMLHttpRequest
// –µ–ª–µ–º–µ–Ω—Ç fetch –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ –ø—Ä–æ–º—ñ—Å–∞—Ö, –ø—Ä–æ–º—ñ—Å–∏ —Ü–µ –º—ñ–∫—Ä–æ—Ç–∞—Å–∫–∏ —ñ –∑–Ω–∞—á–∏—Ç—å —Ñ–µ—Ç—á –ø—ñ–¥–µ –¥–æ eventLoop –≤ —Ä–æ–∑–¥—ñ–ª –¥–æ –º—ñ–∫—Ä–æ—Ç–∞—Å–æ–∫

//–Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ–π –¥–µ–Ω—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è fetch –∑–∞–ø–∏—Ç–∏
// fetch –ø–æ–≤–µ—Ä—Ç–∞—î –ø—Ä–æ–º—ñ—Å
// —â–æ–± –π–æ–≥–æ –æ–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤ –∫–æ–¥—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —è–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ devTools-Network-–∫–ª—ñ–∫–Ω—É—Ç–∏ –ø–æ –∑–∞–ø–∏—Ç—É - –≤–∫–ª–∞–¥–∫–∞ Preview
// –¥–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤–∂–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–∞ –∑ —Ñ–æ—Ä–º–∞—Ç—É json
// –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–æ–∫ then/catch/finally
// –≤ –ø–µ—Ä—à–æ–º—É then –º–∏ –Ω–µ –ø–æ–±–∞—á–∏–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —Ç–∞–∫ —è–∫ –º–∏ –±–∞—á–∏–º–æ –≤ Preview
// –≤ –ø–µ—Ä—à–æ–º—É then –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –æ–±'—î–∫—Ç  Response, –≤ —è–∫–æ–º—É –≤–∏–¥–Ω–æ —è–∫ –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–≤ –∑–∞–ø–∏—Ç:
// ok: true - —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Ç—É true\false
// redirected: false - —á–∏ –≤—ñ–¥–±—É–≤–∞–≤—Å—è —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ backend, —Ç–æ–±—Ç–æ —á–∏ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å—É–≤–∞–ª–∏ –Ω–∞—Å –∑ –æ–¥–Ω–æ–≥–æ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞ –Ω–∞ —ñ–Ω—à–∏–π
// statusText: "" - –ø—É–±–ª—ñ—á–Ω—ñ API –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –Ω–µ –≤—ñ–¥–¥–∞—é—Ç—å —Ç–∞–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
// type:'cors' - —á–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è cors policy
// —Ç–∞–∫ —è–∫ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ REST, —è–∫–∞ –º–∞—î –Ω–∞ –º–µ—Ç—ñ –æ–±–º—ñ–Ω –¥–∞–Ω–∏–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç—ñ json,
// —Ç–æ —â–æ–± —Ä–æ–∑–ø–∞—Ä—Å–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ —É –≤–∏–≥–ª—è–¥—ñ —è–∫ –≤ Preview, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ parse –º–µ—Ç–æ–¥,
// –∞–ª–µ –Ω–µ –∫–ª–∞—Å–∏—á–Ω–∏–π JSON.parse, –∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –º–µ—Ç–æ–¥ json –Ω–∞ –æ–±'—î–∫—Ç—ñ Response
// –ø—Ä–æ–ø–∏—Å—É—î–º–æ –π–æ–≥–æ –≤ –ø–µ—Ä—à–æ–º—É then .then(resp=> resp.json())
// –¥–∞–Ω–∏–π –º–µ—Ç–æ–¥ json –≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤—É—î –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑
// —Ç–æ–º—É –∫–æ–¥ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –≤–∏–≥–ª—è–¥—É –ø–æ–≤–µ—Ä–Ω–µ –ø–æ–º–∏–ª–∫—É –Ω–∞ —Ä—è–¥–∫—É return resp.json():
// .then(resp => {console.log(resp.json()); return resp.json()})
// –º–µ—Ç–æ–¥ resp.json() - –ø–æ–≤–µ—Ä–Ω–µ –Ω–∞–º –ø—Ä–æ–º—ñ—Å

// fetch('https://rickandmortyapi.com/api/charact')
//   .then(resp => {
//     console.log(resp);
//     if (!resp.ok) {
//       throw new Error('custom error log üòí');
//     }
//     return resp.json();
//   })
//   .then(data => console.log(data))
//   .catch(err => console.log(err));

// ********* –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –ø–∞—Ä—Å–∏–Ω–≥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ ********* \\

// —ñ–Ω–æ–¥—ñ –ø–µ—Ä–µ–¥ —Ç–∏–º —è–∫ –∑—Ä–æ–±–∏—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ—Ç—Ä—ñ–±–Ω–æ "–ø—ñ–¥–∫–∞–∑–∞—Ç–∏" –±—Ä–∞—É–∑–µ—Ä—É —è–∫ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –ø–æ–º–∏–ª–∫—É
// —Ü–µ —Å–∫–æ—Ä—ñ—à–µ –Ω–µ–¥–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É, –±–æ —ñ–Ω–æ–¥—ñ —Ç–∞–º –Ω–µ–≤—ñ—Ä–Ω–æ —Ä–æ–±–ª—è—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
// –±—Ä–∞—É–∑–µ—Ä –ø–æ–≥–∞–Ω–æ –ø—Ä–∞—Ü—é—î –∑ –ø–æ–º–∏–ª–∫–∞–º–∏, —è–∫—ñ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ 400–º, 401(–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π), 403, 404–º(–Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ) —Å—Ç–∞—Ç—É—Å–∞–º–∏
// —Ñ–∞–∫—Ç–∏—á–Ω–æ —Ü–Ω
// –∫–æ–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –æ–¥–∏–Ω —ñ–∑ —Ç–∞–∫–∏—Ö —Å—Ç–∞—Ç—É—Å—ñ–≤, –º–æ–∂–Ω–∞ –ø—Ä–∏–º—É—Å–æ–≤–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ø—Ä–æ–º—ñ—Å –≤ —Å—Ç–∞—Ç—É—Å reject –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é
// –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å—É ok:false\true —ñ–∑ –æ–±'—î–∫—Ç–∞ Response
// –¥–ª—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø–∞—Ä—Å—É –≤–∫–∞–∑—É—î–º–æ —É–º–æ–≤—É if(!resp.ok){throw new Error}
// —è–∫–∞ –≤—ñ–¥–±–∏—Ä–∞—î falsy –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–º–∞–Ω–¥–∏ throw –ø–µ—Ä–µ—Ä–∏–≤–∞—î–º–æ —Ä–æ–±–æ—Ç—É then —ñ –≥–µ–Ω–µ—Ä—É—î–º–æ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ –ø–æ–º–∏–ª–∫—É new Error
// throw –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î –≤ –±–ª–æ–∫ catch, –¥–µ –∫–æ–Ω—Å–æ–ª–∏–º–æ error
// –≤ new Error, —è–∫—â–æ –æ–ø–∏—Å–∞–Ω–æ –Ω–∞ –±–µ–∫—É –ø–µ—Ä–µ–¥–∞—î–º–æ –æ–ø–∏—Å –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ resp.statusText
// –∞–±–æ –ø–∏—à–µ–º–æ —Å–∞–º—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –æ–ø–∏—Å–æ–º –ø–æ–º–∏–ª–∫–∏

// ********* CORS ********* \\
// –≤ Headers, —Å–ª—É–∂–±–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, —è–∫—É –º–∏ –ø–µ—Ä–µ–¥–∞—î–º–æ —ñ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ –±–µ–∫–µ–Ω–¥ (–º–æ–∂–µ–º–æ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å –ø–æ—Ä—É—á –∑ Preview)
// —î –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å Origin, —è–∫—É –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø–æ–≤–Ω—é—î —Å–∞–º, –±–µ—Ä–µ —ó—ó –∑ –Ω–∞—à–æ–≥–æ url
// fetch('https://common-api.rozetka.com.ua/v2/fat-menu/full?front-type=xl&country=UA&lang=ua&r=0.7297302207424572')
// –Ω–∞ —Å–∞–π—Ç—ñ —Ä–æ–∑–µ—Ç–∫–∏ —Ü—è –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å Origin –º—ñ—Å—Ç–∏—Ç—å https://rozetka.com.ua
// –±—Ä–∞—É–∑–µ—Ä —Ç–∞–∫–∏–º —á–∏–Ω–æ–º –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ —î –≤ —É–º–æ–≤–Ω–æ–º—É –±—ñ–ª–æ–º—É —Å–ø–∏—Å–∫—É –±–µ–∫–µ–Ω–¥—É url –∑ —è–∫–æ–≥–æ —Ä–æ–±–∏—Ç—å—Å—è –∑–∞–ø–∏—Ç —ñ
// —á–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥–¥–∞–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å(–¥–∞–Ω—ñ) —Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É, —Ç–∞–∫–∏–º —á–∏–Ω–æ–º –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è
// –ø—Ä–∏ —Ü—å–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –≤ Postman https://common-api.rozetka.com.ua/v2/fat-menu/full?front-type=xl&country=UA&lang=ua&r=0.7297302207424572'
// –≤—ñ–¥–¥–∞—Å—Ç—å –¥–∞–Ω—ñ –∑ –±–µ–∫–µ–Ω–¥—É, –±–æ Postman —Ü–µ –Ω–µ –±—Ä–∞—É–∑–µ—Ä —ñ –≤ –Ω—å–æ–º—É –Ω–µ–º–∞—î —Ç–æ—ó –Ω–∞—Ç–∏–≤–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –¥–æ–¥–∞–≤–∞—Ç–∏ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å Origin
// —Ç–æ–º—É –±–µ–∫–µ–Ω–¥ –Ω–µ —Ä–æ–∑—É–º—ñ—î, —â–æ –º–æ–∂–Ω–∞ —Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É —è–∫ Postman –≤—ñ–¥–¥–∞—Ç–∏ –¥–∞–Ω—ñ

// *************** –ü–†–ê–ö–¢–ò–ö–ê *************** \\

// –ü–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ–≥–Ω–æ–∑—É –ø–æ–≥–æ–¥–∏ –≤ –º—ñ—Å—Ç—ñ.
// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π –ø—É–±–ª—ñ—á–Ω–µ API https://www.weatherapi.com/docs/
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –µ–Ω–¥–ø–æ—ñ–Ω—Ç Forecast –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥–∏ –Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞ –¥–Ω—ñ–≤.

// –°—Ç–≤–æ—Ä–∏ —Ñ–æ—Ä–º—É –≤ —è–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á:
// 1 –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤—É –º—ñ—Å—Ç–∞.
// 2 –æ–±–∏—Ä–∞—î –Ω–∞ —è–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –≤—ñ–Ω —Ö–æ—á–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥–∏ (3, 5 —Ç–∞ 7 –¥–Ω—ñ–≤).
// (–Ü–Ω–æ–¥—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –ø—Ä–∞—Ü—é—î –≤ —Ç–∞–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –ø–æ—à—É–∫ –Ω–∞ 1, 2 —Ç–∞ 3 –¥–Ω—ñ)
// –ü—Ä–∏–∫–ª–∞–¥ —Ñ–æ—Ä–º–∏ https://prnt.sc/kFmLOj6gBdv-

// –ü—ñ—Å–ª—è —Å–∞–±–º—ñ—Ç—É —Ñ–æ—Ä–º–∏ –≤—ñ–¥–º–∞–ª—é–π –∫–∞—Ä—Ç–∫–∏ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –æ—Ç—Ä–∏–º–∞–Ω–æ—é –∑ –±–µ–∫–µ–Ω–¥—É.
// –ö–∞—Ä—Ç–∫–∞ –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ –ø—Ä–æ:
// 1 –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ –ø–æ–≥–æ–¥–æ—é (icon)
// 2 –¢–µ–∫—Å—Ç –∑ –ø–æ–≥–æ–¥–æ—é (text)
// 3 –î–∞—Ç—É (date)
// 4 –°–µ—Ä–µ–¥–Ω—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –≤ –¶–µ–ª—å—Å—ñ—è (avgtemp_c)
// –ü—Ä–∏–∫–ª–∞–¥ –∫–∞—Ä—Ç–∫–∏ https://prnt.sc/h_p-A6Hty-i-

function serviceWeather(city = '', days = '0') {
  const BASE_URL = 'http://api.weatherapi.com/v1';
  const END_POINT = '/forecast.json';
  const API_KEY = '6410346f89264d6e919165208231505';

  // –¥–æ–≤–æ–ª—ñ –Ω–µ–∑—Ä—É—á–Ω–∏–π —Å–ø–æ—Å—ñ–± –±—É–¥—É–≤–∞—Ç–∏ url
  // fetch(`${BASE_URL}${END_POINT}?key=${API_KEY}$q=Paris&days=2&lang=uk`);

  // –∫—Ä–∞—â–µ —Å—Ç–æ–≤—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—É
  const params = new URLSearchParams({
    key: API_KEY,
    q: city,
    days: days,
    lang: 'uk',
  });

  // —è–∫—â–æ –∑–∞–∫–æ–Ω—Å–æ–ª–∏—Ç–∏ –æ–±'—î–∫—Ç params, —Ç–æ –Ω—ñ—á–æ–≥–æ –∫–æ—Ä–∏—Å–Ω–æ–≥–æ –Ω–µ –ø–æ–±–∞—á–∏–º–æ, –æ–∫—Ä—ñ–º –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ size
  console.log(params);
  // —â–æ–± –ø—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ñ –æ–±'—î–∫—Ç—É params
  // –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –º–µ—Ç–æ–¥ toString, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å, —â–æ —Ç–∞–º –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è
  console.log(params.toString());

  // –∫–æ–ª–∏ —Ä–æ–±–∏–º–æ —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É, —Ç–æ–±—Ç–æ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∑–∞–ø–∏—Ç—É –Ω–∞ –±–µ–∫–µ–Ω–¥, –∑–∞–≥–∞–ª—å–Ω–æ–ø—Ä–∏–π–Ω—è—Ç–æ –ø–µ—Ä—à–∏–π then
  // –ø—Ä–æ–ø–∏—Å—É–≤–∞—Ç–∏ –ø—Ä—è–º–æ –≤ —Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞–ø–∏—Ç—É, –∞–ª–µ –ª–∏—à–µ —î–¥–∏–Ω–∏–π –ø–µ—Ä—à–∏–π then
  // –¥–ª—è —Ç–æ–≥–æ, —à–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î —Ñ—É–Ω–∫—Ü—ñ—è - –ø–æ–º–∏–ª–∫—É –∞–±–æ —Ä–æ–∑–ø–∞—Ä—Å–µ–Ω—ñ –¥–∞–Ω—ñ
  // –ø–µ—Ä–µ–¥ fetch –æ–±–æ–≤'—è–∑–∫–æ–≤–æ —Å—Ç–∞–≤–∏–º–æ return —ñ–Ω–∞–∫—à–µ –æ—Ç—Ä–∏–º–∞—î–º–æ –ø–æ–º–∏–ª–∫—É fetch.js:133 Uncaught TypeError: Cannot read properties of undefined (reading 'then')

  return fetch(`${BASE_URL}${END_POINT}?${params}`).then(resp => {
    if (!resp.ok) {
      // –ø–æ–¥–∏–≤–∏–º–æ—Å—å —á–∏ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è statusText –ø–æ–º–∏–ª–∫–∏ –∑ –±–µ–∫–µ–Ω–¥—É
      console.log(resp);
      throw new Error(resp.statusText);
    }
    // —Ç—É—Ç –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø—Ä–æ–º—ñ—Å
    return resp.json();
  });
}
// –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –≤–∏–∫–ª–∏–∫—É —Ñ—É–Ω–∫—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ then –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ä–æ–∑–ø–∞—Ä—Å–µ–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
// –∞–±–æ catch –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–∫–∏
// —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é –≤–∏–∫–ª–∏—á–µ–º–æ –ø—ñ–¥ —á–∞—Å —Å–∞–±–º—ñ—Ç—É —Ñ–æ—Ä–º–∏
// serviceWeather()
//   .then(data => console.log(data))
//   .catch(err => console.log(err));

const elements = {
  form: document.querySelector('.js-search-form'),
  list: document.querySelector('.js-list'),
};

console.log(elements);

elements.form.addEventListener('submit', handlerForecast);

function handlerForecast(evt) {
  //—É —Ñ–æ—Ä–º–∏ —î –Ω–∞—Ç–∏–≤–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –ø—ñ–¥ —á–∞—Å —Å–∞–±–º—ñ—Ç—É –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö –Ω–∞ –±–µ–∫–µ–Ω–¥
  // –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ–π –¥–µ–Ω—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è AJAX, —è–∫–∞
  // –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º –º–∞—î —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—é –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–∏—Ö –ö–ª—ñ—î–Ω—Ç-–°–µ—Ä–≤–µ—Ä –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
  // —â–æ–± –ø–æ–∑–±—É—Ç–∏—Å—è –Ω–∞—Ç–∏–≤–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —Ñ–æ—Ä–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ  evt.preventDefault();
  evt.preventDefault();

  // —ñ–∑ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ elements –æ–±'—î–∫—Ç—É —Ñ–æ—Ä–º–∏ –∑–∞ name —ñ–∑ input —Ç–∞ select –¥—ñ—Å—Ç–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Ü–∏—Ö –ø–æ–ª—ñ–≤
  console.dir(evt.currentTarget.elements);
  const { city, days } = evt.currentTarget.elements;

  console.log(city.value);
  console.log(days.value);

  serviceWeather(city.value, days.value)
    .then(data => {
      elements.list.innerHTML = createMarkup(
        data.forecast.forecastday,
        data.location
      );
    })
    .catch(err => {
      elements.list.innerHTML =
        '<li class="weather-card"><img src="https://repository-images.githubusercontent.com/627560142/41fad3ef-09ac-4e99-a6b7-bacf592b3142" alt="weather" width="500"/></li>';
      console.log(err);
    });
}

// —Å—Ç–≤–æ—Ä–∏–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –≤—ñ–¥–º–∞–ª—é–≤–∞–Ω–Ω—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Ä–æ–∑–ø–∞—Ä—Å–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
function createMarkup(arr, location) {
  // –ø–µ—Ä–µ–≤—ñ—Ä–∏–º–æ —á–∏ –ø—Ä–∏–π—à–ª–∏ –¥–∞–Ω—ñ –≤ —Ñ—É–Ω—Ü—ñ—é
  console.log(arr);
  console.log(location);
  return arr
    .map(
      ({
        date,
        day: {
          avgtemp_c,
          condition: { icon, text },
        },
      }) => `
  <li class="weather-card">
    <img src="${icon}" alt="${text}" class="weather-icon" />
    <h2 class="date">${location.name}</h2>
    <h3 class="date">${location.country}</h3>
    <h4 class="date">${date}</h4>
    <h4 class="weather-text">${text}</h4>
    <h4 class="temperature">${avgtemp_c} ¬∞C</h4>
</li>`
    )
    .join('');
}
